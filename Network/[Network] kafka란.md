# kafka란 무엇인가?
- kafka는 대규모 실시간 데이터 스트리밍을 처리하는 데 사용되는 분산 이벤트 스트리밍 플랫폼이다.

- 여기서 분산 이벤트라는 말은 여러 대의 서버(노드)에 분산되어 저장된 이벤트(데이터) 를 말한다.

- 이벤트 스트리밍은 대량의 이벤트(데이터)를 실시간으로 처리하는 방식을 의미한다.

- 즉, 이 두 내용을 연결 시키면 분산 되어 있는 이벤트(데이터)들을 실시간으로 처리하는 플랫폼이라는 뜻이 된다.
<br>

![image](https://github.com/user-attachments/assets/fca66b73-35f2-443c-a050-28944f9e0ed1)
> kafka가 중간에서 데이터들을 처리한다.
<br>
<hr>
<br>

## ✔️ 탄생 배경
- 비즈니스 소셜 네트워크 서비스인 링크드인 (linked-in) 에서 개발하였는데,
다음은 카프카 개발 전 링크드인의 데이터 처리 시스템을 먼저 확인해보자.
<br>

![image](https://github.com/user-attachments/assets/18cda2bf-4737-4ff1-bcb5-258e76ab3e5e)
> 각 애플리케이션과 DB가 end-to-end 로 연결되어 있고(각 파이프라인이 파편화 되어있음)<br>
요구사항이 늘어남에 따라 데이터 시스템 복잡도가 높아지면서 다음과 같은 문제가 발생하게 되었다.
<br>

### 시스템 복잡도 증가
- 통합된 전송 영역이 없어 데이터 흐름을 파악하기 어렵고, 시스템 관리가 어려움

- 특정 부분에서 장애 발생 시 조치 시간 증가 (=> 연결 되어있는 애플리케이션들을 모두 확인해야 하기 때문에)

- HW 교체 / SW 업그레이드 시 관리포인트가 늘어나고, 작업시간 증가 (=> 연결된 애플리케이션에 side effect 가 없는지 확인해야 함)
<br>

### 데이터 파이프라인 관리의 어려움
- 각 애플리케이션과 데이터 시스템 간의 별도의 파이프라인 존재하고, 파이프라인 마다 데이터 포맷과 처리 방식이 다름

- 새로운 파이프라인 확장이 어려워지면서, 확장성 및 유연성이 떨어짐

- 또한 데이터 불일치 가능성이 있어 신뢰도 감소
<br>

**이러한 문제를 해결하기 위해 새로운 시스템의 개발 필요성이 높아짐**
> 모든 이벤트/데이터의 흐름을 중앙에서 관리하는 카프카가 개발됨
<br>

![image](https://github.com/user-attachments/assets/e8794c3f-8a1e-4715-ab31-ec3cbb130fac)
> 링크드인의 카프카 적용 전 - 카프카 적용 후 아키텍처
<br>

- 위 그림의 왼쪽은 링크드인에서 개발한 카프카가 등장하기전의 아키텍처 모습니다.

- 각 데이터 저장소들이 도착지점까지 모든 시스템을 거치는 End - To - End 연결로 매우 복잡한 것을 볼 수 있다.

- 하지만 카프카가 적용된 오른쪽 그림을 보면 모든 이벤트와 데이터를 카프카가 처리하는 것을 볼 수 있다.
<br>

### kafka 적용 후
- 모든 이벤트/데이터의 흐름을 중앙에서 관리할 수 있게 됨

- 새로운 서비스/시스템이 추가되도 카프카가 제공하는 표준 포맷으로 연결하면 되므로 확장성과 신뢰성이 증가

- 개발자는 각 서비스간의 연결이 아닌, 서비스들의 비즈니스 로직에 집중 가능
<br>
<hr>
<br>

## ✔️ 분산이벤트 실시간 관리 방법
- Pub / Sub 모델의 메세지 큐 형태로 동작한다.

### 메세지 큐 (Message Queue, MQ)
- 카프카를 이해하기 위해서는 카프카의 핵심 개념인 메세지 큐에 대한 이해가 필요하다.
 
- 메세지 큐는 "메시지 지향 미들웨어 (MOM : 서로 다른 시스템, 애플리케이션, 서비스 간에 메시지를 교환하는 방식)"를 구현한 시스템이다.
  


**Reference**<br>

[Dragony : [Apache Kafka] 카프카란 무엇인가?](https://velog.io/@holicme7/Apache-Kafka-%EC%B9%B4%ED%94%84%EC%B9%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80)<br>
[leediz : Apache Kafka란](https://leediz.tistory.com/2)<br>
[< Hyun / Log > : [Kafka] 카프카란 ? 주요개념 정리 및 Pub/Sub 모델 비교](https://hstory0208.tistory.com/entry/Kafka-%EC%B9%B4%ED%94%84%EC%B9%B4%EB%9E%80-%EC%A3%BC%EC%9A%94%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC-%EB%B0%8F-PubSub-%EB%AA%A8%EB%8D%B8-%EB%B9%84%EA%B5%90)
