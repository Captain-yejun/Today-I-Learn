# 체크 예외와 언체크 예외
- 먼저 예외란 앱 실행 중 정상 로직에서 벗어나 의도하지 않은 상황이 발생하는 것이다.
<br>

**➡️ 차이점**
- 체크 예외는 try-catch로 잡아서 처리하거나 throws를 통해 외부로 던지거나 두 방법 중 하나를 택해야 한다.<br>
그렇지 않으면 컴파일 단계에서 오류가 발생한다.
  - 개발자는 예외를 잡아서 처리하거나 던져야 한다.
<br>

- 반면 언체크 예외는 개발자가 잡아 처리하거나 외부로 던지지 않아도 된다.<br>
개발자가 예외 처리를 생략한다면 언체크 예외는 자동으로 외부로 던져진다.
  - 개발자가 예외 처리를 하지 않아도 된다.
<br>

**➡️ 선택 원칙**
- 예외를 다룰 때 기본 원칙으로 다음 2가지를 기억하자 :

- 기본적으로 런타임 예외를 사용하자.

- 체크 예외는 비즈니스 로직상 의도적으로 던지는 예외에만 사용하자.

- 해당 예외를 반드시 잡아서 처리해야 하는 중요한 문제일 때만 체크 예외를 사용해야 한다.
  - 계좌 이체 실패 예외
  - 결제시 포인트 부족 예외
  -로그인 ID, PW 불일치 예외 등
<br>

- 그러나 중요하다고 꼭 체크 예외로 처리할 필요는 없다. 

- 매뉴얼만 잘 만들어 놓고 런타임 예외로 처리하는 경우도 많다.
<br>

**➡️ 예외 객체**
- 자바는 예외 상황을 처리하기 위해 예외 객체를 다룬다.

- 예외 객체는 다른 객체와 마찬가지로 Object를 최상위 객체로 가진다.

![image](https://github.com/user-attachments/assets/e568cec5-c993-4725-8200-0277b797fba6)
<br>
<hr>
<br>

## ✔️ 예외 기본 규칙
- 예외는 폭탄 돌리기와 같다. 

- 잡아서 처리하거나, 처리할 수 없으면 외부로 던져야 한다.
<br>

**➡️ 예외 처리**
![image](https://github.com/user-attachments/assets/3a312807-626b-43a5-965d-de94961b0de5)
> Ex) repository에서 예외 발생 시 service로 던지고, service는 이를 처리하는 로직 작성 필요
<br>
<br>

**➡️ 예외 던짐**
![image](https://github.com/user-attachments/assets/e82381c2-4426-4509-9481-04042742fae1)
> service에서 예외 처리 로직이 없으면 호출한 곳으로 거슬러 올라가면서 예외를 계속 던진다.
<br>

- 그렇다면 예외를 처리하지 못하고 계속 던지면 어떻게 될까?
  - 자바 main() 쓰레드의 경우 예외 로그가 출력되면서 시스템이 종료된다.
  - 웹 애플리케이션의 경우 여러 사용자의 요청을 처리하기 때문에 하나의 예외 때문에 시스템 전체가 종료되어서는 안 된다.
  - 따라서 WAS에서 해당 예외를 잡아서 처리하는데, 보통 개발자가 지정한 오류 페이지를 사용자에게 보여준다.
<br>

**➡️ 예외 처리의 기본 규칙**
- 예외는 잡아서 처리하거나 외부로 던질 수 있다.

- 예외를 처리할 때, 지정한 예외는 그 하위 예외까지 모두 포함된다.
  - Ex) `Exception`을 `catch`로 잡으면 그 하위 예외들도 모두 잡을 수 있다.
  - Ex) `Exception`을 `Throws`로 던지면 그 하위 예외들도 모두 던질 수 있다.
<br>
<hr>
<br>

**Reference**

[인프런 : 스프링 DB 1편 - 데이터 접근 핵심 원리](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-db-1)

