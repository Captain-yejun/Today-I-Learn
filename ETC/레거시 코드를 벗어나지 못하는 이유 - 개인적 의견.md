# 레거시 코드를 벗어나지 못하는 이유 - 개인적 의견
## ✔️ 현 상황
현 시점 (2025.02.13) 나는 공공기관 프로젝트를 진행중에 있으며, 모 기업의 그룹웨어 고도화 중에 게시판 쪽 작업을 맡고 있다.

해당 어플리케이션의 소스를 보면 API를 사용하지 않고 JSP에서 JAVA 파일을 직접 호출하는 방법을 취득하고 있다.

MVC 패턴에 의해 클라이언트 요청에 따른 Controller에서의 API 호출과 더불어 Service, Repository 등이 나눠진 개념에서 해당 소스를 처음 마주하였을 때

엄청난 멘탈 붕괴가 일어났다. 피들러를 통해 추적하지 않는 이상 어떤 페이지에서 어떤 JAVA 파일을 호출하는지 전혀 알 수가 없었기 때문이다.

때문에 단순 기능을 1개 구현하더라도 이리저리 얽힌 소스를 분석하고 파악하는데에 공수가 더 들어갔으며, 실질적인 개발에 대한 시간은

분석 시간에 비해 현저히 작았다.

또한 개발을 하면서 각 기능에 대한 참고 주석의 년도가 나와 있었는데, 내가 확인한 가장 오래된 년도는 1998년이였다.

최소 1990년도에 만들어진 어플리케이션이므로 그 당시의 개발 패턴이 적용되어 지금으로써는 알아보기 힘들었으며,

그 당시에는 획기적인 개발이였다고는 하지만 지금은 극한의 레거시 코드인 것으로 보아 개발 패턴은 항상 바뀐다는 것을 인지해야겠다는

생각도 들었다.
<br>
<hr>
<br>

## ✔️ 레거시를 벗어나지 못하는 이유
### 1. 사이드 이펙트
- 아마 벗어나지 못하는 큰 이유 중에 하나일 것인데, 내가 리팩토링한 코드가 다른 기능에 영향을 주기 때문이다.

보통 레거시 코드의 경우 이리 저리 얽힌 스파게티 코드나 에일리언 코드인 경우가 많은데, 이처럼 코드간의

연관성을 정확히 파악하지 못하는 경우 리팩토링은 결국 기능의 에러를 불러온다.

작은 서비스의 경우라면 리팩토링이 가능하겠지만, 규모가 크면 클 수록 모듈 간의 연관성이 커지기 때문에

전혀 건들지 못하고 계속 레거시 코드인 상태로 고도화를 진행하게 된다.

그러므로 요즘 시대의 개발은 응집도를 최대화하고 결합도를 최소화 하는 것이 좋은 개발이라고 말하는 것이다.
<br>
<br>

### 2. 비용
레거시 코드의 경우 앞서 말했듯이 스파게티 코드인 경우와 에일리언 코드인 경우가 많고

모듈 간의 결합도가 높은 서비스가 대부분이기 때문에 사이드 이펙트를 주지 않기 위해서는

정확한 분석을 통해 리팩토링을 해나가야 하지만, 이는 인적 자원의 시간 소요가 대단히 큰 부분이다.

인력이 오랫동안 투입된다는 것은 곧 비용과 직결되는 문제이므로 많은 기업들이 레거시 코드를 가진 서비스를

변경하기 꺼려한다.
<br>
<br>

### 3. 필요성의 문제
레거시 코드를 리팩토링 하기 위해서는 비용과 시간을 투자할만한 가치가 있어야 한다.

예를 들어 서비스의 유저가 점점 많아져 트래픽과 유지보수 비용은 비례하기 때문에

만약 유저가 고정되어 있고, 더 이상의 추가 개발 기능이 필요없다면 굳이 레거시 코드를 벗어나지 않아도 된다.

쓸데없는 리팩토링은 오히려 문제를 야기할 뿐이다.
<br>
<hr>
<br>

## ✔️ 정리
앞에서 레거시 코드의 설명과 벗어나지 못하는 이유에 대해 개인적인 의견을 적어보았지만

대다수의 개발자들이 실무를 하면서 직접 경험한 부분일 것이다.

레거시 코드는 장점보다 단점이 더 많아보이지만, 현재 서비스가 운영되고 있는 상황에 따라

리팩토링 여부를 결정하면 좋을 것이다.
<br>
<hr>
<br>

**Reference**<br>

내 머리
