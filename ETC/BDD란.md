# BDD란 무엇인가?
- Behavior-driven Development

- 제품이나 서비스의 행동에 초점을 맞춘 개발 방법론

- 협업 및 커뮤니케이션을 개선하기 위한 방법론으로 비즈니스 목표와 고객 요구 사항을 모두 충족하고 애플리케이션 및 요구 사항 수준에서 작동

- TDD(Test-Driven Development)와 DDD(Domain-Drvien Design)에서 파생된 개발 방법론으로 개발자와 비개발자의 협업 과정을 녹여낸 방법

- 즉, BDD는 잘 짜놓은 TDD라고 볼 수 있다.

![image](https://github.com/user-attachments/assets/05377b20-bd3b-4d7e-bd61-ff72d7f82388)
> TDD와 BDD는 상호보완적인 관계에 있다.
<br>

| 특성   | TDD (Test-Driven Development) | BDD (Behavior-Driven Development) |
|--------|-------------------------------|------------------------------------|
| 접근 방식 | 테스트를 먼저 작성하고 코드를 구현 | 행동을 기술하고 이를 기반으로 테스트 작성 |
| 초점   | 코드의 기능 검증 | 사용자 행동과 비즈니스 가치에 초점 |
| 언어   | 기술적이고 개발자 중심의 언어 | 비즈니스 도메인 언어 사용 |
<br>

- 만약 프론트엔드를 기준으로 BDD를 설명한다면 아래와 같다.
  - 사용자가 웹 페이지에서 버튼 클릭, 입력, 드래그 등 다양한 동작을 수행하고 난 후, 웹 페이지의 상태를 테스트 케이스로 작성하는 것
<br>
<hr>
<br>

## ✔️ 사용하는 이유
- TDD를 하면서 개발을 하다보면 Testcase에 대해서도 계속 유지보수해야하는데 귀찮기도 하고, 마감기한이 정해진 프로젝트라면 일정에 대해 압박을 받을 수도 있다.

- 그렇기 때문에 매번 개발을 진행하면서 기능에 대해 예외사항에 대해 매번 생각하고 Testcase를 작성하는 것은 생각보다 비용이 많이 들어가는 일이라고 볼 수 있다. 

- 하지만 만약 여기에서 이미 작성된 요구사항이나 기획서가 있고, 그에 맞추어 테스트 케이스를 작성하게 된다면, 위와 같은 시간에 대한 비용이 줄게된다. 바로 이게 BDD이다.

![image](https://github.com/user-attachments/assets/6221c353-8f82-4806-a590-76d6c600c758)
> (좌) TDD에서 발생할 수 있는 문제 / (우) (좌)에서 발생 가능한 문제를 BDD에서는 미리 잡아낼 수 있다.
<br>

- 이렇게 보면 BDD든, TDD든 하나만 선택해야하는 거 아니야? 라고 생각이 들 수 있지만, 두개는 상호 배타적인 관계가 아니라 상호 보완적인 관계이다.

- 프로젝트에서 BDD의 테스트케이스로 시나리오 검증을 하고, 해당 시나리오에서 사용하는 각 모듈들은 TDD의 테스트케이스로 검증을 하는 방법이 좋다.

- 아래 그림을 보면 더 이해하기 쉽다.

![image](https://github.com/user-attachments/assets/4d0315d7-ebfd-4926-9061-66dc02570af8)
<br>
<hr>
<br>

## ✔️ 작성 방법
- 테스트케이스 작성 시 꼭 지켜야 하는 것은 아니지만 아래의 포맷을 주로 이용한다.

![image](https://github.com/user-attachments/assets/d1fcd2b2-1075-4898-8744-c1c020763c0c)
<br>

```
GIVEN ( 처음 상태 )
WHEN ( 결과를 만들기 위한 행위 )
THEN ( 결과 )
```
<br>

**예시**
```
Feature: 계산기 기능

  Scenario: 두 수를 더한다
    Given 계산기에 2와 3을 입력하고
    When 더하기를 수행하면
    Then 결과는 5가 되어야 한다
```
<br>

- 즉, 시스템이 어떻게 동작해야 하는지에 초점을 맞춘다.

- 이는 단순히 코드의 구현이 아니라 사용자가 시스템을 어떻게 사용할 것인지에 대한 행동을 정의하는 것
<br>
<hr>
<br>

## ✔️ 모범 사례
- BDD를 효과적으로 적용하기 위해 다음과 같은 모범 사례를 따르는 것이 중요

- 공통된 언어 사용
  - 개발자, 테스터, 비즈니스 이해관계자가 모두 이해할 수 있는 비즈니스 도메인 언어로 시나리오를 작성합니다.
  - 전문 용어보다는 일반적인 표현을 사용하여 의사소통의 격차를 줄입니다.
<br>

- 명확하고 간결한 시나리오 작성
  - 시나리오는 하나의 기능이나 행동에 집중하여 작성합니다.
  - 불필요한 상세 정보나 복잡한 조건을 피하고 핵심에 집중합니다.
<br>

- Given-When-Then 패턴 준수
  - 시나리오는 항상 Given(주어진 상황)-When(행동)-Then(결과) 구조를 따릅니다.
  - 각 단계는 명확하고 테스트 가능한 요소로 구성합니다.
<br>

- 예제 기반 접근
  - 추상적인 설명 대신 구체적인 예제를 통해 요구사항을 표현합니다.
  - 다양한 시나리오와 경계 조건을 고려하여 테스트 범위를 넓힙니다.
<br>

- 자동화 테스트와 연계
  - 작성된 시나리오는 자동화 테스트로 구현되어야 합니다.
  - Cucumber, SpecFlow 등 BDD 도구를 활용하여 테스트를 자동화합니다.
<br>

- 지속적인 리팩토링
  - 시나리오와 코드 베이스를 지속적으로 개선하고 정리합니다.
  - 중복된 코드나 불필요한 시나리오는 제거하여 유지보수성을 높입니다.
<br>

- 팀 협업 강화
  - 시나리오 작성 단계에서부터 모든 팀원이 참여합니다.
  - 정기적인 회의를 통해 시나리오를 검토하고 피드백을 공유합니다.
<br>

- 비즈니스 가치에 초점
  - 모든 시나리오는 비즈니스 목표와 사용자 가치를 반영해야 합니다.
  - 기술적인 구현보다는 사용자가 얻을 이익에 집중합니다.
<br>

- 명확한 수용 기준 설정
  - 각 시나리오에 대한 명확한 수용 기준을 정의합니다.
  - 이는 기능 완료 여부를 판단하는 객관적인 기준이 됩니다.
<br>

- 도구와 프로세스의 표준화
  - 팀 내에서 사용하는 BDD 도구와 프로세스를 표준화하여 효율성을 높입니다.
  - 모법 사례를 문서화하여 신규 팀원 교육에 활용합니다.
<br>

- 교육과 문화 정착
  - 팀원들이 BDD의 목적과 방법론을 충분히 이해하도록 교육합니다.
  - BDD를 조직 문화로 정착시켜 지속적인 개선을 도모합니다.
<br>

- 피드백 루프 구축
  - 테스트 결과와 사용자 피드백을 빠르게 반영하여 시나리오와 제품을 개선합니다.
  - 짧은 개발 사이클을 유지하여 적시에 가치를 전달합니다.
<br>
<hr>
<br>

**Reference**<br>

[yoongrammer : 효과적인 소프트웨어 개발을 위한 BDD(Behavior-Driven Development) 소개](https://yoongrammer.tistory.com/115)<br>
[기몬식 : [Dev] BDD(Behavior-Driven Development)](https://ones1kk.tistory.com/entry/Dev-BDDBehavior-Driven-Development)<br>
[mingule : TDD, BDD란?](https://mingule.tistory.com/43)
